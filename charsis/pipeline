#!/usr/bin/env python3
"""
古籍处理流水线启动器

直接执行示例:
  ./pipeline preprocess input.jpg
  ./pipeline segment region_images/
  ./pipeline postocr
  ./pipeline postocr status <batch_id>
  ./pipeline all input.jpg --stages segment,postocr
"""

if __name__ == '__main__':
    import sys
    import os

    # 添加项目根目录到 Python 路径
    _THIS_FILE = os.path.abspath(__file__)
    _REPO_ROOT = os.path.dirname(_THIS_FILE)
    if _REPO_ROOT not in sys.path:
        sys.path.insert(0, _REPO_ROOT)

    # 导入并运行主程序
    from src.pipeline import main
    main()
